/* ==========================================================================
   EFFECTS - Username, Avatar, Link, and Visual Effects
   ========================================================================== */

/* --------------------------------------------------------------------------
   GRADIENTS & ORBS
   -------------------------------------------------------------------------- */

.gradient-orb-cyan {
  background: radial-gradient(circle, rgba(168, 85, 247, 0.4), rgba(220, 38, 38, 0.2), transparent);
}

.gradient-orb-red {
  background: radial-gradient(circle, rgba(220, 38, 38, 0.4), rgba(255, 0, 0, 0.2), transparent);
}

.gradient-orb-orange {
  background: radial-gradient(circle, rgba(249, 115, 22, 0.4), rgba(251, 191, 36, 0.2), transparent);
}

.gradient-orb-purple {
  background: radial-gradient(circle, rgba(168, 85, 247, 0.4), rgba(139, 92, 246, 0.2), transparent);
}

.gradient-text-cyan {
  background: linear-gradient(45deg, #a855f7 30%, #dc2626 50%, #a855f7 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-red {
  background: linear-gradient(45deg, #dc2626 30%, #ff0000 50%, #dc2626 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-orange {
  background: linear-gradient(45deg, #f97316 30%, #fbbf24 50%, #f97316 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.gradient-text-purple {
  background: linear-gradient(45deg, #a855f7 30%, #8b5cf6 50%, #a855f7 70%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* --------------------------------------------------------------------------
   ELEKTRINE MARK
   -------------------------------------------------------------------------- */

.elektrine-mark {
  position: relative;
  transition: all 0.6s ease;
  animation: mark-pulse 3s ease-in-out infinite alternate;
}

.elektrine-mark:hover {
  transform: scale(1.1) rotate(5deg);
  filter: invert(1) sepia(0.8) saturate(2) hue-rotate(180deg) brightness(1) contrast(1.2) drop-shadow(0 0 8px rgba(168, 85, 247, 0.6));
}

.mark-glow-effect {
  will-change: filter;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-font-smoothing: subpixel-antialiased;
  animation: markGlow 4s ease-in-out infinite;
}

.mark-glow {
  position: absolute;
  inset: -8px;
  background: conic-gradient(
    from 0deg,
    rgba(168, 85, 247, 0.1),
    rgba(255, 165, 0, 0.1),
    rgba(255, 69, 0, 0.1),
    rgba(168, 85, 247, 0.1)
  );
  border-radius: 50%;
  animation: mark-rotate 8s linear infinite;
  blur: 4px;
  opacity: 0.7;
}

/* --------------------------------------------------------------------------
   KITSUNE
   -------------------------------------------------------------------------- */

.kitsune-gallery {
  position: relative;
  overflow: visible;
  margin-top: 1rem;
}

.kitsune-container-large {
  position: relative;
  overflow: visible;
  transition: all 0.3s ease;
}

.kitsune-container-large:hover {
  transform: translateY(-5px);
}

.kitsune-glow {
  background: radial-gradient(
    circle at center,
    rgba(255, 69, 0, 0.08) 0%,
    rgba(255, 165, 0, 0.04) 40%,
    rgba(168, 85, 247, 0.03) 70%,
    transparent 100%
  );
  pointer-events: none;
  animation: pulse-glow 6s ease-in-out infinite alternate;
  z-index: 5;
}

.kitsune-glow-alt {
  background: radial-gradient(
    circle at center,
    rgba(255, 215, 0, 0.1) 0%,
    rgba(255, 69, 0, 0.05) 40%,
    rgba(8, 195, 214, 0.04) 70%,
    transparent 100%
  );
  animation-delay: 2s;
}

.kitsune-wrapper {
  position: relative;
  animation: kitsune-float 5s ease-in-out infinite;
  display: flex;
  justify-content: center;
  align-items: center;
}

.kitsune-image {
  position: relative;
  transition: all 0.4s ease;
  background-color: transparent !important;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform: translateZ(0);
  -webkit-font-smoothing: subpixel-antialiased;
  will-change: transform;
  max-width: none;
  opacity: 0.15;
  mix-blend-mode: screen;
  filter: blur(0.5px) saturate(0.7) contrast(0.8);
}

.kitsune-main {
  animation: kitsune-pulse-main 8s ease-in-out infinite alternate;
  opacity: 0.2;
  mix-blend-mode: multiply;
}

.kitsune-right {
  animation: kitsune-pulse-right 8s ease-in-out infinite alternate;
  animation-delay: 4s;
  mix-blend-mode: soft-light;
}

.kitsune-container-large:hover .kitsune-image {
  filter: blur(0.3px) saturate(0.9) contrast(0.9);
  transform: scale(1.01);
  opacity: 0.25;
  mix-blend-mode: overlay;
}

/* --------------------------------------------------------------------------
   USERNAME EFFECTS
   -------------------------------------------------------------------------- */

.username-effect-glow {
  text-shadow:
    0 0 2px color-mix(in srgb, var(--glow-color, #a855f7) 70%, transparent),
    0 0 5px color-mix(in srgb, var(--glow-color, #a855f7) 50%, transparent),
    0 0 10px color-mix(in srgb, var(--glow-color, #a855f7) 30%, transparent);
  padding: 0 4px;
  margin: 0 -4px;
}

.username-effect-neon {
  color: var(--glow-color, #a855f7);
  text-shadow:
    0 0 5px var(--glow-color, #a855f7),
    0 0 10px var(--glow-color, #a855f7),
    0 0 20px var(--glow-color, #a855f7),
    0 0 40px var(--glow-color, #a855f7);
  animation: neon-pulse var(--animation-duration, 2s) ease-in-out infinite;
}

@keyframes neon-pulse {
  0%, 100% {
    opacity: 1;
    text-shadow:
      0 0 5px var(--glow-color, #a855f7),
      0 0 10px var(--glow-color, #a855f7),
      0 0 20px var(--glow-color, #a855f7),
      0 0 40px var(--glow-color, #a855f7);
  }
  50% {
    opacity: 0.8;
    text-shadow:
      0 0 3px var(--glow-color, #a855f7),
      0 0 7px var(--glow-color, #a855f7),
      0 0 15px var(--glow-color, #a855f7),
      0 0 30px var(--glow-color, #a855f7);
  }
}

.username-effect-rainbow {
  background: linear-gradient(90deg, #ff0000 0%, #ff7f00 16.67%, #ffff00 33.33%, #00ff00 50%, #0000ff 66.67%, #4b0082 83.33%, #9400d3 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 100%;
  animation: rainbow-slide var(--animation-duration, 3s) linear infinite;
}

@keyframes rainbow-slide {
  0% { background-position: 0% 50%; }
  100% { background-position: 200% 50%; }
}

.username-effect-shadow {
  text-shadow: 3px 3px 6px var(--shadow-color, #000000);
}

.username-effect-gradient {
  background: linear-gradient(90deg, var(--gradient-from, #a855f7), var(--gradient-to, #dc2626));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.username-effect-glitch {
  position: relative;
  animation: glitch var(--animation-duration, 1s) infinite;
}

@keyframes glitch {
  0% { text-shadow: 0.05em 0 0 #00fffc, -0.03em -0.04em 0 #fc00ff, 0.025em 0.04em 0 #fffc00; }
  15% { text-shadow: 0.05em 0 0 #00fffc, -0.03em -0.04em 0 #fc00ff, 0.025em 0.04em 0 #fffc00; }
  16% { text-shadow: -0.05em -0.025em 0 #00fffc, 0.025em 0.035em 0 #fc00ff, -0.05em -0.05em 0 #fffc00; }
  49% { text-shadow: -0.05em -0.025em 0 #00fffc, 0.025em 0.035em 0 #fc00ff, -0.05em -0.05em 0 #fffc00; }
  50% { text-shadow: 0.05em 0.035em 0 #00fffc, 0.03em 0 0 #fc00ff, 0 -0.04em 0 #fffc00; }
  99% { text-shadow: 0.05em 0.035em 0 #00fffc, 0.03em 0 0 #fc00ff, 0 -0.04em 0 #fffc00; }
  100% { text-shadow: -0.05em 0 0 #00fffc, -0.025em -0.04em 0 #fc00ff, -0.04em -0.025em 0 #fffc00; }
}

.username-effect-fire {
  background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #ff7f00, #ff0000);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 100%;
  animation: fire-flicker var(--animation-duration, 2s) ease-in-out infinite;
  filter: drop-shadow(0 0 4px rgba(255, 100, 0, 0.6)) drop-shadow(0 0 8px rgba(255, 50, 0, 0.4));
}

.username-effect-ice {
  color: #a0d8f1;
  text-shadow:
    0 0 10px rgba(173, 216, 230, 0.8),
    0 0 20px rgba(135, 206, 250, 0.6),
    0 0 30px rgba(100, 149, 237, 0.4),
    2px 2px 4px rgba(255, 255, 255, 0.3);
  animation: ice-shimmer var(--animation-duration, 3s) ease-in-out infinite;
}

@keyframes ice-shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.3); }
}

.username-effect-chrome {
  background: linear-gradient(90deg, #888888, #ffffff, #cccccc, #888888, #ffffff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 200% 100%;
  filter: drop-shadow(1px 1px 2px rgba(0,0,0,0.5));
}

.username-effect-holographic {
  background: linear-gradient(90deg, #ff00ff 0%, #00ffff 25%, #00ff00 50%, #ffff00 75%, #ff00ff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  background-size: 300% 100%;
  animation: holographic-shift var(--animation-duration, 3s) linear infinite;
  filter: brightness(1.2);
}

@keyframes holographic-shift {
  0% { background-position: 0% 50%; }
  100% { background-position: 300% 50%; }
}

.username-effect-outline {
  color: transparent;
  -webkit-text-stroke: 2px var(--glow-color, #a855f7);
  text-stroke: 2px var(--glow-color, #a855f7);
}

.username-effect-double {
  position: relative;
}

.username-effect-double::after {
  content: attr(data-text);
  position: absolute;
  left: 3px;
  top: 3px;
  z-index: -1;
  color: var(--shadow-color, #000000);
  opacity: 0.5;
}

.username-effect-retro {
  background: linear-gradient(180deg, #ff00ff 0%, #00ffff 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(2px 2px 0px #ff00ff) drop-shadow(2px 2px 0px #00ffff);
  font-weight: bold;
  letter-spacing: 2px;
}

.username-effect-pixelated {
  image-rendering: pixelated;
  -ms-interpolation-mode: nearest-neighbor;
  font-weight: 700;
  text-shadow:
    1px 1px 0 var(--glow-color, #a855f7),
    2px 2px 0 var(--shadow-color, #000000);
}

/* Animation speed modifiers */
.username-animation-slow { --animation-duration: 4s; }
.username-animation-normal { --animation-duration: 2s; }
.username-animation-fast { --animation-duration: 1s; }

/* Typewriter */
.typewriter-cursor::after {
  content: '|';
  animation: blink 1s infinite;
  margin-left: 2px;
}

/* --------------------------------------------------------------------------
   AVATAR EFFECTS
   -------------------------------------------------------------------------- */

.avatar-effect-wrapper {
  position: relative;
  display: inline-block;
}

.avatar-effect-glow {
  animation: avatar-glow-pulse 2s ease-in-out infinite;
}

@keyframes avatar-glow-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 8px var(--avatar-accent, #a855f7)) drop-shadow(0 0 12px var(--avatar-accent, #a855f7));
  }
  50% {
    filter: drop-shadow(0 0 16px var(--avatar-accent, #a855f7)) drop-shadow(0 0 24px var(--avatar-accent, #a855f7));
  }
}

.avatar-effect-rainbow::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
  background-size: 400% 400%;
  animation: rainbow-rotate 3s linear infinite;
  z-index: -1;
}

@keyframes rainbow-rotate {
  0% { background-position: 0% 50%; }
  100% { background-position: 400% 50%; }
}

.avatar-effect-fire::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #ff7f00, #ff0000);
  background-size: 300% 300%;
  animation: fire-flicker 2s ease-in-out infinite;
  z-index: -1;
  filter: blur(2px);
}

@keyframes fire-flicker {
  0%, 100% { opacity: 0.8; background-position: 0% 50%; }
  25% { opacity: 1; background-position: 50% 50%; }
  50% { opacity: 0.7; background-position: 100% 50%; }
  75% { opacity: 0.9; background-position: 50% 50%; }
}

.avatar-effect-ice {
  animation: avatar-ice-shimmer 3s ease-in-out infinite;
}

@keyframes avatar-ice-shimmer {
  0%, 100% {
    filter: drop-shadow(0 0 8px #a0d8f1) drop-shadow(0 0 12px #add8e6) brightness(1);
  }
  50% {
    filter: drop-shadow(0 0 16px #a0d8f1) drop-shadow(0 0 24px #add8e6) brightness(1.2);
  }
}

.avatar-effect-sparkle {
  position: relative;
}

.avatar-effect-sparkle::after {
  content: '';
  position: absolute;
  font-size: 20px;
  animation: sparkle-float 3s ease-in-out infinite;
  pointer-events: none;
}

@keyframes sparkle-float {
  0%, 100% { top: -10px; right: -10px; opacity: 0; }
  50% { top: -20px; right: 0px; opacity: 1; }
}

.avatar-effect-holographic::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  background: linear-gradient(90deg, #ff00ff, #00ffff, #00ff00, #ffff00, #ff00ff);
  background-size: 400% 400%;
  animation: holographic-shift 3s linear infinite;
  z-index: -1;
  opacity: 0.8;
}

.avatar-effect-gold-frame {
  position: relative;
}

.avatar-effect-gold-frame::before {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: inherit;
  background: linear-gradient(135deg, #c41e3a 0%, #8b0000 50%, #c41e3a 100%);
  z-index: -1;
  box-shadow: 0 0 20px rgba(196, 30, 58, 0.6), inset 0 0 20px rgba(255, 215, 0, 0.3);
}

.avatar-effect-gold-frame::after {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: inherit;
  background: linear-gradient(45deg, #ffd700 0%, #ffed4e 25%, #ffa500 50%, #ffed4e 75%, #ffd700 100%);
  z-index: -1;
  box-shadow: 0 0 30px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 165, 0, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.5), inset 0 -2px 4px rgba(139, 0, 0, 0.3);
  animation: imperial-shimmer 3s ease-in-out infinite;
}

@keyframes imperial-shimmer {
  0%, 100% { filter: brightness(1) saturate(1); }
  50% { filter: brightness(1.2) saturate(1.3); }
}

.avatar-effect-pulse {
  animation: avatar-pulse 2s ease-in-out infinite;
}

@keyframes avatar-pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(var(--avatar-accent-rgb, 34, 211, 238), 0.7);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 0 10px rgba(var(--avatar-accent-rgb, 34, 211, 238), 0);
  }
}

.avatar-effect-rotate-border::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: inherit;
  background: conic-gradient(from 0deg, var(--avatar-accent, #a855f7), var(--avatar-accent-light, #67e8f9), var(--avatar-accent, #a855f7));
  animation: rotate-border 3s linear infinite;
  z-index: -1;
}

@keyframes rotate-border {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* --------------------------------------------------------------------------
   IMAGE ZOOM TRIGGER
   -------------------------------------------------------------------------- */

.image-zoom-trigger {
  position: relative;
  cursor: zoom-in;
  display: block;
}

.image-zoom-trigger::after {
  content: '';
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  opacity: 0;
  transition: opacity 0.2s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: inherit;
}

.image-zoom-trigger::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 40px;
  height: 40px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='2' stroke='white'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: 1;
  pointer-events: none;
}

.image-zoom-trigger:hover::after,
.image-zoom-trigger:hover::before {
  opacity: 1;
}

.image-zoom-trigger img {
  transition: opacity 0.2s ease;
}

/* Variant for rounded images (avatars) */
.image-zoom-trigger-rounded::after {
  border-radius: 9999px;
}

/* --------------------------------------------------------------------------
   LINK EFFECTS
   -------------------------------------------------------------------------- */

.link-effect-glow {
  box-shadow: 0 0 15px var(--link-accent, #a855f7), 0 0 30px var(--link-accent, #a855f7);
  animation: link-glow-pulse 2s ease-in-out infinite;
}

@keyframes link-glow-pulse {
  0%, 100% { box-shadow: 0 0 15px var(--link-accent, #a855f7), 0 0 25px var(--link-accent, #a855f7); }
  50% { box-shadow: 0 0 20px var(--link-accent, #a855f7), 0 0 35px var(--link-accent, #a855f7); }
}

.link-effect-pulse {
  animation: link-pulse-scale 2s ease-in-out infinite;
}

@keyframes link-pulse-scale {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.link-effect-border {
  border-width: 3px !important;
  border-color: var(--link-accent, #a855f7) !important;
  box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.2);
}

.link-effect-shine {
  position: relative;
  overflow: hidden;
}

.link-effect-shine::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%);
  animation: shine-sweep 3s ease-in-out infinite;
}

@keyframes shine-sweep {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}
